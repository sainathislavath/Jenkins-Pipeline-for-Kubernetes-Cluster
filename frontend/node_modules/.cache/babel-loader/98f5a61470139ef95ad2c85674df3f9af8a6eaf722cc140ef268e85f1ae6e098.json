{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product}=_ref;const{addToCart}=useCart();const{user}=useAuth();const handleAddToCart=async e=>{e.preventDefault();// Prevent navigation when clicking the button\nif(!user){alert('Please login to add items to cart');return;}const result=await addToCart(product._id,1);if(result.success){alert('Item added to cart!');}else{alert(result.error);}};const formatPrice=price=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(price);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(Link,{to:`/products/${product._id}`,children:product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{src:product.images[0].url,alt:product.images[0].alt||product.name,className:\"card-img\"}):/*#__PURE__*/_jsx(\"div\",{className:\"card-img\",style:{backgroundColor:'#f8f9fa',display:'flex',alignItems:'center',justifyContent:'center',color:'#6c757d'},children:\"No Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(Link,{to:`/products/${product._id}`,style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:product.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:product.description.length>100?product.description.substring(0,100)+'...':product.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"card-price\",children:formatPrice(product.price)}),product.inventory.stock>0?/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"btn btn-primary\",style:{fontSize:'0.9rem',padding:'0.5rem 1rem'},children:\"Add to Cart\"}):/*#__PURE__*/_jsx(\"span\",{style:{color:'#dc3545',fontWeight:'bold'},children:\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',fontSize:'0.9rem',color:'#6c757d'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Stock: \",product.inventory.stock]}),product.ratings.count>0&&/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'1rem'},children:[\"\\u2B50 \",product.ratings.average.toFixed(1),\" (\",product.ratings.count,\")\"]})]})]})]});};export default ProductCard;","map":{"version":3,"names":["React","Link","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","addToCart","user","handleAddToCart","e","preventDefault","alert","result","_id","success","error","formatPrice","price","Intl","NumberFormat","style","currency","format","className","children","to","images","length","src","url","alt","name","backgroundColor","display","alignItems","justifyContent","color","textDecoration","description","substring","inventory","stock","onClick","fontSize","padding","fontWeight","marginTop","ratings","count","marginLeft","average","toFixed"],"sources":["E:/E-CommerceStore/frontend/src/components/ProductCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst ProductCard = ({ product }) => {\r\n  const { addToCart } = useCart();\r\n  const { user } = useAuth();\r\n\r\n  const handleAddToCart = async (e) => {\r\n    e.preventDefault(); // Prevent navigation when clicking the button\r\n    \r\n    if (!user) {\r\n      alert('Please login to add items to cart');\r\n      return;\r\n    }\r\n\r\n    const result = await addToCart(product._id, 1);\r\n    if (result.success) {\r\n      alert('Item added to cart!');\r\n    } else {\r\n      alert(result.error);\r\n    }\r\n  };\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(price);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <Link to={`/products/${product._id}`}>\r\n        {product.images && product.images.length > 0 ? (\r\n          <img \r\n            src={product.images[0].url} \r\n            alt={product.images[0].alt || product.name}\r\n            className=\"card-img\"\r\n          />\r\n        ) : (\r\n          <div \r\n            className=\"card-img\" \r\n            style={{ \r\n              backgroundColor: '#f8f9fa', \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              justifyContent: 'center',\r\n              color: '#6c757d'\r\n            }}\r\n          >\r\n            No Image\r\n          </div>\r\n        )}\r\n      </Link>\r\n      \r\n      <div className=\"card-body\">\r\n        <Link to={`/products/${product._id}`} style={{ textDecoration: 'none', color: 'inherit' }}>\r\n          <h3 className=\"card-title\">{product.name}</h3>\r\n        </Link>\r\n        \r\n        <p className=\"card-text\">\r\n          {product.description.length > 100 \r\n            ? product.description.substring(0, 100) + '...'\r\n            : product.description\r\n          }\r\n        </p>\r\n        \r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <span className=\"card-price\">{formatPrice(product.price)}</span>\r\n          \r\n          {product.inventory.stock > 0 ? (\r\n            <button \r\n              onClick={handleAddToCart}\r\n              className=\"btn btn-primary\"\r\n              style={{ fontSize: '0.9rem', padding: '0.5rem 1rem' }}\r\n            >\r\n              Add to Cart\r\n            </button>\r\n          ) : (\r\n            <span style={{ color: '#dc3545', fontWeight: 'bold' }}>\r\n              Out of Stock\r\n            </span>\r\n          )}\r\n        </div>\r\n        \r\n        <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#6c757d' }}>\r\n          <span>Stock: {product.inventory.stock}</span>\r\n          {product.ratings.count > 0 && (\r\n            <span style={{ marginLeft: '1rem' }}>\r\n              ‚≠ê {product.ratings.average.toFixed(1)} ({product.ratings.count})\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}